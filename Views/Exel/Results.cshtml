@model Dictionary<string, (decimal TotalAmount, List<Payment>)>
@{ViewData["Title"] = "Payment Expenditures";}

<h2>@ViewData["Title"]</h2>

@if(Model == null || !Model.Any()){
  <p>No data was found in the uploaded Excel file. Please upload a valid file with data.</p>
}else{
  @foreach(var mode in Model){
    <h4>Payment Mode : @mode.Key</h4>
    <p>Total Amount : @mode.Value.TotalAmount</p>
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Phone Number</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        @foreach(var payment in mode.Value.Item2){
          <tr>
            <td>@payment.Name</td>
            <td>@payment.PhoneNumber</td>
            <td>@payment.Amount</td>
          </tr>
        }
      </tbody>
    </table>
  }
}